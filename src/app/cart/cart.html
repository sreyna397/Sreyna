<div class="container my-5">
  <h2 class="mb-4 text-center fw-light">Your Cart</h2>
  <div class="table-responsive">
    <table class="table align-middle table-striped table-hover bg-white shadow-sm rounded">
      <thead class="text-center" style="background-color: #f8f9fa;">
        <tr class="align-middle">
          <th scope="col" class="fw-normal">#</th>
          <th scope="col" class="fw-normal">Image</th>
          <th scope="col" class="fw-normal">Product</th>
          <th scope="col" class="fw-normal">Price</th>
          <th scope="col" class="fw-normal">Qty</th>
          <th scope="col" class="fw-normal">Total</th>
          <th scope="col" class="fw-normal">Action</th>
        </tr>
      </thead>
      <tbody class="text-center">
        @for (cart of cartService.getCartList(); track cart.id; let i = $index) {
          <tr>
            <th scope="row" class="fw-light">{{ i+1 }}</th>
            <td>
              <img [src]="cart.images" class="rounded img-fluid" style="width: 48px; height: 48px; object-fit: cover; border: 1px solid #dee2e6; background: #f8f9fa;">
            </td>
            <td class="fw-light text-break" style="min-width:120px; max-width:200px;">{{ cart.title }}</td>
            <td class="text-success fw-semibold">{{ cart.price | currency }}</td>
            <td>
              <div class="d-flex justify-content-center align-items-center gap-1 flex-nowrap">
                <button class="btn btn-outline-secondary btn-sm px-2 py-0 border-0" (click)="cartService.decreaseQuantity(cart)">-</button>
                <span class="mx-1">{{ cart.quantity }}</span>
                <button class="btn btn-outline-secondary btn-sm px-2 py-0 border-0" (click)="cartService.increaseQuantity(cart)">+</button>
              </div>
            </td>
            <td class="fw-semibold">{{ cart.price * cart.quantity | currency }}</td>
            <td>
              <button class="btn btn-link text-danger p-0" style="text-decoration: none;" (click)="cartService.removeFromCart(cart)">Remove</button>
            </td>
          </tr>
        }
      </tbody>
      <tfoot class="text-center">
        <tr>
          <td colspan="5" class="fw-semibold"></td>
          <td class="fw-semibold">Total: {{ cartService.getTotalPrice() | currency }}</td>
          <td>
            <button class="btn btn-danger btn-sm" (click)="cartService.clearCart()">Clear Cart</button>
          </td>
        </tr>
    </table>
  </div>
  <div class="d-flex justify-content-end mx-3">
    <button class="btn btn-dark btn-lg px-4 rounded-pill">Checkout</button>
  </div>
</div>
